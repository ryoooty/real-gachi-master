# Workout Planner Bot (aiogram + APScheduler)

–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –±–æ—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–ª–∞–Ω–∞:

- –•—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è, –Ω–µ–¥–µ–ª—å–Ω—ã—Ö –ø–ª–∞–Ω–æ–≤ –∏ –¥–Ω–µ–≤–Ω—ã—Ö –ª–æ–≥–æ–≤ –≤ SQLite.
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤ UTC —á–µ—Ä–µ–∑ `zoneinfo` –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á APScheduler –ø–æ UTC.
- –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–ª–∞–Ω–∞ (–∑–∞–≥–ª—É—à–∫–∞ DeepSeek) —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ —É—Å–∏–ª–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç–∫–ª–∏–∫–µ ¬´–ª–µ–≥–∫–æ¬ª.
- Reply-–º–µ–Ω—é –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ Inline —á–µ–∫-–ª–∏—Å—Ç—ã —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –≥–∞–ª–æ—á–∫–∞–º–∏ –∏ –æ—Ü–µ–Ω–∫–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏.

## –ó–∞–ø—É—Å–∫

```bash
pip install -r requirements.txt
python -m app.bot  # –í main() –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω-–∑–∞–≥–ª—É—à–∫–∞, –ø–æ–¥—Å—Ç–∞–≤—å—Ç–µ —Å–≤–æ–π
```

## –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã

- `app/database.py` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã –∏ –¥–æ—Å—Ç—É–ø –∫ —Ç–∞–±–ª–∏—Ü–∞–º `users`, `weekly_plan`, `daily_logs`.
- `app/time_utils.py` ‚Äî –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ UTC –±–µ–∑ —Ä—É—á–Ω–æ–π –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∏.
- `app/ai.py` ‚Äî –∫–ª–∏–µ–Ω—Ç –∏ –ø–∞—Ä—Å–µ—Ä –Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ DeepSeek —Å –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–æ–π –Ω–∞–≥—Ä—É–∑–æ–∫.
- `app/keyboards.py` ‚Äî Reply-–º–µ–Ω—é –∏ Inline-–∫–Ω–æ–ø–∫–∏ —á–µ–∫-–ª–∏—Å—Ç–∞/—Å–ª–æ–∂–Ω–æ—Å—Ç–∏.
- `app/scheduler.py` ‚Äî –æ–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ APScheduler –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ UTC.
- `app/bot.py` ‚Äî FSM –ø—Ä–æ—Ñ–∏–ª—è, –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ–∫-–ª–∏—Å—Ç–æ–≤, –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –æ—á–∫–æ–≤.

## –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –ø–ª–∞–Ω—É

| –ü—É–Ω–∫—Ç –ø–ª–∞–Ω–∞ | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| --- | --- | --- |
| –ë–∞–∑–∞ –∏ –º–µ–Ω—é (SQLite, Reply-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞, FSM –ø—Ä–æ—Ñ–∏–ª—è) | ‚úÖ | –¢–∞–±–ª–∏—Ü—ã `users`, `weekly_plan`, `daily_logs`, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –¥–≤—É—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ middleware –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞ –ø—Ä–æ—Ñ–∏–ª—è. |
| –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–ª–∞–Ω–∞ AI + JSON | ‚úÖ | –ó–∞–≥–ª—É—à–∫–∞ DeepSeek, –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ cron —Å —É—á–µ—Ç–æ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏/–æ—Ç–∑—ã–≤–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ –∫–æ–º–∞–Ω–¥–∞ `/generate` –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞. |
| ¬´–ñ–∏–≤–æ–π¬ª —á–µ–∫-–ª–∏—Å—Ç —Å –≥–∞–ª–æ—á–∫–∞–º–∏ –∏ –æ—Ü–µ–Ω–∫–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ | ‚úÖ | –ì–∞–ª–æ—á–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Ç–µ–∫—Å—Ç–µ, –ø—Ä–æ–ø—É—Å–∫ –¥–Ω—è —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è, –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –æ—Ü–µ–Ω–∫–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏. |
| –°–∏—Å—Ç–µ–º–∞ –æ—á–∫–æ–≤ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ | ‚úÖ | –û—á–∫–∏ –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è, –ø–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–∏–∫ –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ª–∏–¥–µ—Ä–±–æ—Ä–¥ –≤ –º–µ–Ω—é ¬´üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞¬ª. |
| Scheduler –∏ Timezones | ‚úÖ | –•—Ä–∞–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤ UTC, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–æ—á–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∏ –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π cron –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –ø–ª–∞–Ω–∞. |
